<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="favicon.ico">
    <link rel="stylesheet" href="styles/bootstrap.css">
    <link rel="stylesheet" href="styles/bootstrap-override.css">
    <link rel="stylesheet" href="styles/styles.css">
    <title>–°–±–æ—Ä–Ω–∏–∫ —Å—Ç–∏—Ö–æ–≤</title>
    <script src="scripts/theme.js"></script>
    <script src="scripts/bootstrap.bundle.js"></script>
    <script src="scripts/jquery-3.7.1.min.js"></script>
    <script src="scripts/poems-manager.js"></script>
    <script src="scripts/favorites.js"></script>
    <script src="scripts/notifications.js"></script>
    <script src="scripts/poem-of-the-day.js"></script>
    <script src="./scripts/load-components.js"></script>
</head>

<body>
    <!-- Page Loader -->
    <div id="page-loader">
        <div class="loader-spinner"></div>
    </div>

    <div id="header-placeholder"></div>
    

    <main> 
<div class="hero-bg"></div>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
    <div class="container hero-section">
        <div class="row justify-content-center">
            <div class="col-12 col-md-8 col-lg-6 text-center">
                <h1 class="display-heading mb-4">–ò—Å—Å–ª–µ–¥—É–π—Ç–µ –ú–∏—Ä –ü–æ—ç–∑–∏–∏</h1>
                <p class="lead-text mb-5">
                    –û—Ç–∫—Ä–æ–π—Ç–µ –¥–ª—è —Å–µ–±—è –∫–æ–ª–ª–µ–∫—Ü–∏—é –ø—Ä–µ–∫—Ä–∞—Å–Ω—ã—Ö —Å—Ç–∏—Ö–æ–≤ –∏ —É–∑–Ω–∞–π—Ç–µ –æ —Ç–∞–ª–∞–Ω—Ç–ª–∏–≤—ã—Ö –ø–æ—ç—Ç–∞—Ö —Å–æ –≤—Å–µ–≥–æ –º–∏—Ä–∞.
                </p>
                <div class="d-flex flex-column flex-sm-row justify-content-center align-items-center gap-3">
                    <button id="inspireBtn" class="btn btn-main btn-lg px-4 py-2">–í–¥–æ—Ö–Ω–æ–≤–∏—Ç—å—Å—è</button>
                    <a href="/pages/poets.html" class="learn-more-btn text-decoration-none fw-semibold">
                        –£–∑–Ω–∞—Ç—å –±–æ–ª—å—à–µ <span aria-hidden="true">‚Üí</span>
                    </a>
                </div>
                
                <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —Å–ª—É—á–∞–π–Ω–æ–≥–æ —Å—Ç–∏—Ö–æ—Ç–≤–æ—Ä–µ–Ω–∏—è -->
                <div class="modal fade" id="poemModal" tabindex="-1" aria-labelledby="poemModalLabel" aria-hidden="true">
                    <div class="modal-dialog modal-dialog-centered modal-lg">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="poemModalLabel">–°—Ç–∏—Ö–æ—Ç–≤–æ—Ä–µ–Ω–∏–µ</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="–ó–∞–∫—Ä—ã—Ç—å"></button>
                            </div>
                            <div class="modal-body">
                                <h4 id="poemTitle" class="fw-bold mb-3"></h4>
                                <p id="poemAuthor" class="text-muted mb-3"></p>
                                <div id="poemText" style="white-space: pre-line; line-height: 1.8;"></div>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">–ó–∞–∫—Ä—ã—Ç—å</button>
                                <button type="button" class="btn btn-main" id="nextPoemBtn">–ï—â–µ —Å—Ç–∏—Ö–æ—Ç–≤–æ—Ä–µ–Ω–∏–µ</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- –°–µ–∫—Ü–∏—è "–°—Ç–∏—Ö –¥–Ω—è" -->
    <section class="poem-of-day-section py-5">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-12 col-lg-8">
                    <div class="poem-of-day-card">
                        <div id="poem-of-the-day-container">
                            <!-- –ö–æ–Ω—Ç–µ–Ω—Ç –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω —á–µ—Ä–µ–∑ JavaScript -->
                            <div class="text-center py-5">
                                <div class="spinner-border text-primary" role="status">
                                    <span class="visually-hidden">–ó–∞–≥—Ä—É–∑–∫–∞...</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="discover-section py-5 py-sm-5">
    <div class="container">
        <div class="row justify-content-center mb-5">
            <div class="col-12 col-lg-8 text-center">
                <h2 class="section-subtitle text-indigo-light fw-semibold mb-2">–ò—Å—Å–ª–µ–¥—É–π—Ç–µ –ø–æ—ç–∑–∏—é</h2>
                <h3 class="section-title text-white fw-bold mb-3">–ò—Å—Å–ª–µ–¥—É–π—Ç–µ –º–∏—Ä —Å—Ç–∏—Ö–æ–≤ –∏ –ø–æ—ç—Ç–æ–≤</h3>
                <p class="section-description text-indigo-light mb-0">
                    –ü–æ–≥—Ä—É–∑–∏—Ç–µ—Å—å –≤ –∫—Ä–∞—Å–æ—Ç—É –ø–æ—ç–∑–∏–∏ —Å –Ω–∞—à–∏–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç –¥–æ—Å—Ç—É–ø –∫ —Å—Ç–∏—Ö–∞–º, –ø—Ä–æ—Ñ–∏–ª—è–º –ø–æ—ç—Ç–æ–≤ –∏ –∞–Ω–∞–ª–∏–∑—É –ø–æ—ç–∑–∏–∏.
                </p>
            </div>
        </div>

        <div class="row g-5 mt-4 mt-sm-5 mt-lg-6">
            <div class="col-12 col-md-6 col-lg-4">
                <div class="feature-card">
                    <div class="feature-thumb d-flex align-items-center justify-content-center">
                        <span class="feature-icon" aria-hidden="true">üìö</span>
                    </div>
                    <div class="feature-info">
                        <h4 class="feature-title fw-semibold mb-2">–ë–∞–∑–∞ —Å—Ç–∏—Ö–æ—Ç–≤–æ—Ä–µ–Ω–∏–π</h4>
                        <p class="feature-text mb-0">–ü–æ–ª—É—á–∏—Ç–µ –¥–æ—Å—Ç—É–ø –∫ –æ–±—à–∏—Ä–Ω–æ–π –∫–æ–ª–ª–µ–∫—Ü–∏–∏ —Å—Ç–∏—Ö–æ—Ç–≤–æ—Ä–µ–Ω–∏–π –æ—Ç —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –ø–æ—ç—Ç–æ–≤</p>
                        <a href="pages/poems.html" class="btn btn-sm btn-main mt-3">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</a>
                    </div>
                </div>
            </div>

            <div class="col-12 col-md-6 col-lg-4">
                <div class="feature-card">
                    <div class="feature-thumb d-flex align-items-center justify-content-center">
                        <span class="feature-icon" aria-hidden="true">üë§</span>
                    </div>
                    <div class="feature-info">
                        <h4 class="feature-title fw-semibold mb-2">–õ–∏—á–Ω–æ—Å—Ç–∏ –ø–æ—ç—Ç–æ–≤</h4>
                        <p class="feature-text mb-0">–ò–∑—É—á–∏—Ç–µ –ø–æ–¥—Ä–æ–±–Ω—ã–µ –ø—Ä–æ—Ñ–∏–ª–∏ –∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –ø–æ—ç—Ç–æ–≤ –∏ –∏—Ö –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–π</p>
                        <a href="pages/poets.html" class="btn btn-sm btn-main mt-3">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</a>
                    </div>
                </div>
            </div>

            <div class="col-12 col-md-6 col-lg-4">
                <div class="feature-card">
                    <div class="feature-thumb d-flex align-items-center justify-content-center">
                        <span class="feature-icon" aria-hidden="true">üîç</span>
                    </div>
                    <div class="feature-info">
                        <h4 class="feature-title fw-semibold mb-2">–ê–Ω–∞–ª–∏–∑ –ø–æ—ç–∑–∏–∏</h4>
                        <p class="feature-text mb-0">–£–∑–Ω–∞–π—Ç–µ –æ –±–æ–ª–µ–µ –≥–ª—É–±–æ–∫–∏—Ö –∑–Ω–∞—á–µ–Ω–∏—è—Ö –∏ —Ç–µ–º–∞—Ö –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —Å—Ç–∏—Ö–æ—Ç–≤–æ—Ä–µ–Ω–∏–π</p>
                        <a href="pages/analysis.html" class="btn btn-sm btn-main mt-3">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>


    </main>


    <div id="footer-placeholder"></div>

    <script>
        // –ì–ª–æ–±–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –¥–ª—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ (—Å–æ–∑–¥–∞–µ–º –æ–¥–∏–Ω —Ä–∞–∑)
        let poemModalInstance = null;

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ –≤—Å–µ—Ö backdrop'–æ–≤ (–Ω–∞ —Å–ª—É—á–∞–π –±–∞–≥–æ–≤)
        function cleanupBackdrops() {
            // –£–¥–∞–ª—è–µ–º –≤—Å–µ –æ—Å—Ç–∞–≤—à–∏–µ—Å—è backdrop'—ã
            document.querySelectorAll('.modal-backdrop').forEach(backdrop => {
                backdrop.remove();
            });
            // –†–∞–∑–±–ª–æ–∫–∏—Ä—É–µ–º body
            document.body.classList.remove('modal-open');
            document.body.style.overflow = '';
            document.body.style.paddingRight = '';
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–∫–∞–∑–∞ —Å–ª—É—á–∞–π–Ω–æ–≥–æ —Å—Ç–∏—Ö–æ—Ç–≤–æ—Ä–µ–Ω–∏—è
        function showRandomPoem() {
            const poem = poemsManager.getRandomPoem();
            if (!poem) {
                alert('–°—Ç–∏—Ö–∏ –µ—â–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —á–µ—Ä–µ–∑ —Å–µ–∫—É–Ω–¥—É...');
                return;
            }

            // –û–±–Ω–æ–≤–ª—è–µ–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ
            document.getElementById('poemTitle').textContent = poem.title;
            document.getElementById('poemAuthor').textContent = `${poem.author}, ${poem.year || '–≥–æ–¥ –Ω–µ–∏–∑–≤–µ—Å—Ç–µ–Ω'}`;
            document.getElementById('poemText').textContent = poem.text;

            // –°–æ–∑–¥–∞–µ–º —ç–∫–∑–µ–º–ø–ª—è—Ä –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑
            if (!poemModalInstance) {
                const modalElement = document.getElementById('poemModal');
                poemModalInstance = new bootstrap.Modal(modalElement);

                // –°–ª—É—à–∞–µ–º —Å–æ–±—ã—Ç–∏–µ —Å–∫—Ä—ã—Ç–∏—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –¥–ª—è –æ—á–∏—Å—Ç–∫–∏
                modalElement.addEventListener('hidden.bs.modal', cleanupBackdrops);
            }

            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
            poemModalInstance.show();
        }

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –∫–Ω–æ–ø–∫–∏ "–í–¥–æ—Ö–Ω–æ–≤–∏—Ç—å—Å—è"
        document.addEventListener('poemsDataLoaded', () => {
            const inspireBtn = document.getElementById('inspireBtn');
            const nextPoemBtn = document.getElementById('nextPoemBtn');

            inspireBtn.addEventListener('click', showRandomPoem);
            nextPoemBtn.addEventListener('click', showRandomPoem);
        });

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ–ª–Ω–æ–≥–æ —Å—Ç–∏—Ö–∞ –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ
        function showPoemModal(poemId) {
            const poem = poemsManager.getPoemById(poemId);
            if (!poem) {
                alert('–°—Ç–∏—Ö –Ω–µ –Ω–∞–π–¥–µ–Ω');
                return;
            }

            // –°–æ–∑–¥–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ, –µ—Å–ª–∏ –µ–≥–æ –µ—â–µ –Ω–µ—Ç
            let fullPoemModal = document.getElementById('fullPoemModal');
            if (!fullPoemModal) {
                const modalHTML = `
                    <div class="modal fade" id="fullPoemModal" tabindex="-1">
                        <div class="modal-dialog modal-dialog-centered modal-lg">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="fullPoemModalTitle"></h5>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                                </div>
                                <div class="modal-body">
                                    <p class="text-muted" id="fullPoemModalAuthor"></p>
                                    <div id="fullPoemModalText" style="white-space: pre-line; line-height: 1.8;"></div>
                                    <div id="fullPoemModalTags" class="mt-3"></div>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">–ó–∞–∫—Ä—ã—Ç—å</button>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
                document.body.insertAdjacentHTML('beforeend', modalHTML);
                fullPoemModal = document.getElementById('fullPoemModal');
            }

            // –û–±–Ω–æ–≤–ª—è–µ–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ
            document.getElementById('fullPoemModalTitle').textContent = poem.title;
            document.getElementById('fullPoemModalAuthor').textContent = `${poem.author}, ${poem.year || '–≥–æ–¥ –Ω–µ–∏–∑–≤–µ—Å—Ç–µ–Ω'}`;
            document.getElementById('fullPoemModalText').textContent = poem.text;
            
            const tagsHtml = poem.tags ? poem.tags.map(tag => `<span class="badge bg-secondary me-1">${tag}</span>`).join('') : '';
            document.getElementById('fullPoemModalTags').innerHTML = tagsHtml;

            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
            const modalInstance = new bootstrap.Modal(fullPoemModal);
            modalInstance.show();
        }
    </script>
    
</body>
</html>